场景描述：

在一台服务器上，前端应用占用8080端口，后端应用占用8081端口，服务器地址为180.170.160.150。用户通过浏览器访问 `http://180.170.160.150:8080` 上的前端应用，前端应用会向后端 `http://180.170.160.150:8081` 发送请求。后端已配置跨域，允许 `http://180.170.160.150:8080` 发起的请求通过跨域。

**Q：**当用户访问 `http://180.170.160.150:8080` 时，浏览器会从该地址加载前端资源并进行渲染，因此实际发送的请求中携带的并非服务器的IP地址，而是用户本地的IP地址。如果是这样，那么后端配置的跨域是否会拦截用户的IP导致跨域失败？

**A：**并不会，因为跨域请求的校验并不依赖于实际IP地址，而是基于请求头中的Origin。Origin代表了请求的来源，它是浏览器根据当前页面的URL自动生成的，包含协议、域名和端口。在这个例子中，当用户通过浏览器请求` http://180.170.160.150:8080` 地址时，浏览器会在请求头中添加 `Origin: http://180.170.160.150:8080`。后端在进行跨域校验时，会从请求头中的Origin提取来源信息，并与其配置的允许跨域的地址进行比对。因此，只要后端配置的允许跨域地址与请求头中的Origin一致，跨域请求就会被允许通过。总之，跨域校验是基于Origin请求头，而不是用户的实际IP地址。