> 我们已经把员工管理系统的部门管理和员工管理开发完成了，现在在浏览器中输入相应的URL就能访问对应的资源，但是当我们的项目上线以后，只要知道URL就能访问资源那么就能对资源进行操作，这是不安全的。
>
> 因此我们需要用到登录功能，只能登录成功的用户才能访问对应的资源。



# 基础登录

> 基础登录比较简单，只需要判断用户输入的用户名和密码是否正确即可。
>
> 基础登录的需求：

![image-20240508193837107](D:\text1\15.登录\assets\image-20240508193837107.png)

> 用户输入用户名和密码点击登录完成登录，输入的信息是员工信息，我们操作的表就是emp，而执行的SQL就是根据用户名和密码来查询员工，如果能查到则用户名和密码正确，登录成功，反之不成功。
>
> 而我们查询的信息是不存在查询多个的情况，因为我们之前建表时设置用户名字段为unique约束，它是唯一的。
>
> 登录的接口：

![image-20240508194330616](D:\text1\15.登录\assets\image-20240508194330616.png)

> 请求参数：

![image-20240508194446335](D:\text1\15.登录\assets\image-20240508194446335.png)

> 响应：

![image-20240508194516053](D:\text1\15.登录\assets\image-20240508194516053.png)

> 现阶段我们不关心JWT，因此响应的data为null。对应控制器，我们需要新建一个，因为登录的请求是login，与其他控制器的请求不同，而service和mapper我们不需要新建，因为操作的是emp表，因此直接使用EmpService和EmpMapper即可，不用新建。
>
> 控制器：

![image-20240508202127654](D:\text1\15.登录\assets\image-20240508202127654.png)

> service：

![image-20240508202152707](D:\text1\15.登录\assets\image-20240508202152707.png)

![image-20240508202202088](D:\text1\15.登录\assets\image-20240508202202088.png)

> mapper方法，有个小细节，由于mapper是持久层，因此方法名建议不要使用login，而是根据用户名和密码查询方面来取名：

![image-20240508202324823](D:\text1\15.登录\assets\image-20240508202324823.png)

> 测试：

![image-20240508202423763](D:\text1\15.登录\assets\image-20240508202423763.png)

> 前端：

![image-20240508202518672](D:\text1\15.登录\assets\image-20240508202518672.png)

![动画 (1)](D:\text1\15.登录\assets\动画 (1).gif)